import { CssBaseline, ThemeProvider } from '@mui/material';
import React from 'react';
import ErrorBoundary from './components/ErrorBoundary';
import aobaTheme from './theme';

// ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
const AppContent: React.FC = () => {

  return (
    <>
      <CssBaseline />
      <div>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ç¾åœ¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ã§ã™ã€‚</div>
    </>
  );
};

// ãƒ«ãƒ¼ãƒˆAppã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
const App: React.FC = () => {
  const handleGlobalError = (error: Error, errorInfo: React.ErrorInfo) => {
    console.group('ğŸš¨ Global Error Handler');
    console.error('ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:', error);
    console.error('ã‚¨ãƒ©ãƒ¼æƒ…å ±:', errorInfo);
    console.groupEnd();

    // å¿…è¦ã«å¿œã˜ã¦å¤–éƒ¨ã®ã‚¨ãƒ©ãƒ¼ç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹ã«é€ä¿¡
    // analytics.track('app_error', { message: error.message, stack: error.stack });
  };

  return (
    <ThemeProvider theme={aobaTheme}>
      <ErrorBoundary
        onError={handleGlobalError}
        resetOnNavigate={true}
      >
        <AppContent />
      </ErrorBoundary>
    </ThemeProvider>
  );
};

export default App;
